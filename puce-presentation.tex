\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage[spanish]{babel}
\usepackage{listings}

\begin{document}
\title{Refactoring a patrones funcionales}
\author{Juan Pablo Santos}
\date{24 de abril de 2015}

\frame{\titlepage} 

\frame{\frametitle{Agenda}\tableofcontents}

\section{Refactoring}
\frame{\frametitle{Refactoring}
\begin{itemize}
  \item Identificar patrones comúnes
  \item Eliminar duplicación
  \item Código mas mantenible
  \item Código mas entendible
\end{itemize}
}

\section{Peligros de los loops}
\frame{\frametitle{¿Por qué no usar loops?}
  De Deitel\&Deitel:
  \begin{itemize}
    \item `Using an incorrect relational operator or an incorrect final value of a loop counter in the loop continuation condition of a repetition statement can cause an off-by-one error'
    \item `Initialize each counter and total, either in its declaration or in an assignment statement. Totals are normally initialized to 0. Counters are normally initialized to 0 or 1, depending on how they are used (we will show examples of when to use 0 and when to use 1) .'
    \item `Infinite loops occur when the loop-continuation condition in a repetition statement never becomes false. To prevent this situation in a counter-controlled loop, ensure that the control variable is incremented (or decremented) during each iteration of the loop'
  \end{itemize}
}

\section{Loops}
\frame{\frametitle{Loops (lazos, bucles, etc) }
  Patrones comunes
  \begin{itemize}
    \item Aplicación de de transformaciones a una lista
    \pause
    \item Selección de elementos de una lista
    \pause
    \item Conversión de una lista a un resultado único
  \end{itemize}
}

\frame{\frametitle{}
  \Huge Tiene que haber una forma mejor!
}

\section{Patrones funcionales}

\frame{\frametitle{Funciones de orden superior}
   \begin{itemize}
     \item{Como argumentos}
     \pause
     \item{Como retorno}
     \pause
     \item{Primer nivel}
   \end{itemize}
}

\frame{\frametitle{map}
   \begin{itemize}
     \item{\lstinline{map(square, [1,2,3]) = [1,4,6]}}
     \item{\lstinline{[square(1), square(2), square(3)] = [1,4,6]}}
   \end{itemize}
}

\frame{\frametitle{filter, select}
   \begin{itemize}
     \item{Predicados}
     \item{\lstinline{function greaterThan5(value) \{ return value > 5 \}}}
     \item{\lstinline{filter(greaterThan5, [0,3,5,50]) = [50]}}
     \item{\lstinline{filter(greaterThan5, [False, False, False, True]) = [50]}}
   \end{itemize}
}

\frame{\frametitle{reduce, fold, inject}
  \begin{itemize}
    \item{\lstinline{fold(sum, 0, [0,3,5,50]) = 58}}
    \item{\lstinline{0+3+5+50 = 58}}
  \end{itemize}
}

\section{Quicksort}

\frame{\frametitle{Ejemplo: Quicksort con loops}
  \lstinputlisting[language=C, firstline=1, lastline=15]{quicksort.c}
}

\frame{\frametitle{Ejemplo: Quicksort con loops}
  \lstinputlisting[language=C, firstline=15, lastline=28]{quicksort.c}
}

\frame{\frametitle{Ejemplo: Quicksort con funciones de orden superior}
  \lstinputlisting[breaklines=true,language=C++,basicstyle=\footnotesize]{quicksort.js}
}

\frame{\frametitle{Ejemplo: Quicksort con Haskell}
  \lstinputlisting[language=Haskell]{quicksort.hs}
}

\end{document}
